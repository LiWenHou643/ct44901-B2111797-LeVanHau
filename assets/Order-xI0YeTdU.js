import{_ as v,m as T,c as a,a as t,F as _,r as y,b as f,e as x,f as N,g as V,o as c,t as s,n as k,d as h}from"./index-B0eqtc4n.js";const D={computed:{...T("order",["orders"])},methods:{formatDateVN(l){const n=new Date(l),d=["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"],g=["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],m=String(n.getDate()).padStart(2,"0"),o=g[n.getMonth()],i=n.getFullYear(),e=d[n.getDay()],u=String(n.getHours()).padStart(2,"0"),r=String(n.getMinutes()).padStart(2,"0");return`${e}, ngày ${m} ${o} năm ${i}, ${u}:${r}`},formatPrice(l){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l)}},created(){this.$store.dispatch("order/fetchOrders")}},b={class:"container"},S={key:0},w={class:"card-body"},B={class:"d-flex justify-content-between"},C={key:0},j={class:"list-group list-group-flush"},F={class:"col-4"},H={class:"col-2"},M={class:"col-2"},P={class:"col-2"},$={class:"col-2"},q={class:"mt-3 d-flex justify-content-between align-items-start"},I={key:0,class:"d-flex flex-column justify-content-end align-items-end"},O={key:1,class:"d-flex flex-column justify-content-end align-items-end"},Y={key:2},z={key:1,class:"alert alert-info text-center mt-4",role:"alert"};function E(l,n,d,g,m,o){const i=V("router-link");return c(),a("div",b,[n[4]||(n[4]=t("h1",{class:"m-4 text-center"},"Yêu cầu mượn sách",-1)),l.orders.length>0?(c(),a("div",S,[(c(!0),a(_,null,y(l.orders,(e,u)=>(c(),a("div",{class:"card mb-3",key:u},[t("div",w,[t("div",B,[t("strong",null,s(o.formatDateVN(e.ngayyeucau)),1),t("strong",{class:k(["badge p-2",e.trangthai==="Chờ xác nhận"?"bg-warning":"bg-success"])},s(e.trangthai),3)]),n[0]||(n[0]=t("hr",null,null,-1)),e.sach&&e.sach.length>0?(c(),a("div",C,[t("ul",j,[(c(!0),a(_,null,y(e.sach,(r,p)=>(c(),a("li",{key:p,class:"row"},[t("p",F,"Sách: "+s(r.tensach),1),t("p",H,"Tác giả: "+s(r.tacgia),1),t("p",M," Năm xuất bản: "+s(r.namxuatban),1),t("p",P," Số lượng "+s(r.soluong)+" quyển ",1),t("p",$," Đơn giá mượn: "+s(o.formatPrice(r.dongia)),1)]))),128))])])):h("",!0),n[1]||(n[1]=t("hr",null,null,-1)),t("div",q,[t("strong",null," Tổng tiền: "+s(o.formatPrice(e.phimuon)),1),e.trangthai==="Đã xác nhận"?(c(),a("div",I,[t("p",null," Bạn có thể nhận sách tại thư viện vào ngày "+s(o.formatDateVN(e.henmuon)),1),t("p",null," Hạn trả sách: "+s(o.formatDateVN(e.hentra)),1)])):h("",!0),e.trangthai==="Đã nhận sách"?(c(),a("div",O,[t("p",null," Bạn đã nhận sách vào ngày "+s(o.formatDateVN(e.ngaymuon)),1),t("p",null," Hạn trả sách: "+s(o.formatDateVN(e.hentra)),1)])):h("",!0),e.trangthai==="Đã trả"?(c(),a("div",Y,[t("p",null," Bạn đã hoàn thành việc trả sách vào ngày "+s(o.formatDateVN(e.ngaytra)),1)])):h("",!0)])])]))),128))])):(c(),a("div",z,[n[3]||(n[3]=f(" Bạn chưa mượn quyển sách nào. ")),x(i,{to:"/books",class:"alert-link"},{default:N(()=>n[2]||(n[2]=[f("Bắt đầu mượn ngay")])),_:1})]))])}const L=v(D,[["render",E],["__scopeId","data-v-616c8d7b"]]);export{L as default};
